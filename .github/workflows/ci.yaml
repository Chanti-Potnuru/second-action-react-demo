name: second-action-react-demo CI

on: [push, workflow_dispatch]

jobs:
    test:
        runs-on: ubuntu-latest
        steps:
          - name: Get code
            uses: actions/checkout@v5
          - name: Install Node.js
            uses: actions/setup-node@v4
            with:
              node-version: '18'
          - name: Install dependencies
            run: npm ci
          - name: Run tests
            run: npm test
          # - name: link code
          #   run: npm run lint
          # - name: Test code
          #   run: npm run test

    build:
        runs-on: ubuntu-latest
        needs: test
        steps:
          - name: Get code
            uses: actions/checkout@v5
          - name: Install Node.js
            uses: actions/setup-node@v4
            with:
              node-version: '18'
          - name: Install dependencies
            run: npm ci
          - name: Build project
            run: npm run build
          - name: upload artifacts
            uses: actions/upload-artifact@v3
            with:
              name: build-artifacts
              path: |
                dist
                package.json

    deploy:
      runs-on: ubuntu-latest
      needs: build
      steps:
        - name: Get code
          uses: actions/checkout@v5
        - name: Download artifacts
          uses: actions/download-artifact@v3
          with:
            name: build-artifacts
        - name: Install Node.js
          uses: actions/setup-node@v4
          with:
            node-version: '18'
        - name: Install dependencies
          run: npm ci
        - name: Deploy to development
          run: echo "Deploying to development..." # Replace with actual deployment command
        




